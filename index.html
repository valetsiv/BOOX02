<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Tense Builder</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="dot"></div>
      <div>
        <div class="brandTitle">Tense Builder</div>
        <div class="brandSub">Speak â€¢ Compare â€¢ Level up</div>
      </div>
    </div>

    <div class="topActions">
      <button id="btnNew" class="btn primary">New unit</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="cardHead">
        <div>
          <div class="h1">Current target</div>
          <div class="muted">Short â†’ longer â†’ level up (words in red = practice)</div>
        </div>
        <div class="stats">
          <div class="pill"><div class="k">Level</div><div id="statLevel" class="v">1</div></div>
          <div class="pill"><div class="k">Score</div><div id="statScore" class="v">0</div></div>
          <div class="pill"><div class="k">Streak</div><div id="statStreak" class="v">0</div></div>
        </div>
      </div>

      <div class="targetBox">
        <div id="targetText" class="targetText">â€”</div>
        <div id="glossary" class="glossary" hidden></div>
      </div>

      <div class="rowBtns">
        <button id="btnSpeak" class="btn">ğŸ”Š Speak</button>
        <button id="btnMic" class="btn">ğŸ™ï¸ Start mic</button>
        <button id="btnTranslate" class="btn ghost">ğŸŒ Translate</button>
        <button id="btnShow" class="btn ghost">ğŸ‘ Show answer</button>
      </div>

      <div class="grid2">
        <div class="cardMini">
          <div class="h2">What the mic heard</div>
          <textarea id="heardText" class="ta" placeholder="Press Start mic, speak, then press Checkâ€¦"></textarea>
          <div class="rowBtns2">
            <button id="btnCheck" class="btn ok">âœ… Check</button>
            <button id="btnSkip" class="btn ghost">â­ Skip</button>
          </div>
          <div id="status" class="status">Ready.</div>
        </div>

        <div class="cardMini">
          <div class="h2">Word feedback</div>
          <div id="feedback" class="feedback">â€”</div>
        </div>
      </div>

      <div class="medalsHead">
        <div>
          <div class="h2">Rescued characters</div>
          <div class="muted">Finish Level 100 to unlock a character.</div>
        </div>
        <div id="medalCount" class="muted">0/0</div>
      </div>
      <div id="medals" class="medals"></div>
    </section>

    <aside class="card settings">
      <div class="h1">Settings</div>

      <div class="field">
        <label>Mode</label>
        <select id="selMode">
          <option value="statements">Statements</option>
          <option value="questions">Questions</option>
        </select>
      </div>

      <div class="field">
        <label>Question type</label>
        <select id="selQType">
          <option value="yesno">Yes/No</option>
          <option value="wh">WH</option>
        </select>
      </div>

      <div class="field">
        <label>Tense</label>
        <select id="selTense">
          <option value="present_simple">Present Simple</option>
          <option value="present_cont">Present Continuous</option>
          <option value="present_perf">Present Perfect</option>
          <option value="future_will">Future (will)</option>
        </select>
      </div>

      <div class="field">
        <label>Voice (TTS)</label>
        <select id="selVoice"></select>
      </div>

      <div class="field">
        <label>Recognition language</label>
        <select id="selRecLang">
          <option value="en-US">English (US)</option>
          <option value="en-GB">English (UK)</option>
        </select>
      </div>

      <div class="field row">
        <label class="toggle">
          <input id="chkAntiEcho" type="checkbox" checked />
          <span>Antiâ€‘echo (pause mic while TTS)</span>
        </label>
      </div>

      <div class="divider"></div>
      <div class="muted small">
        Tip: for mic stability, open with <b>http://localhost</b> (not file://).
      </div>
    </aside>
  </main>

  <div id="modal" class="modal" hidden>
    <div class="modalCard">
      <div class="modalTitle">You rescued a character!</div>
      <div class="modalBody">
        <img id="modalImg" class="modalImg" alt="character" />
        <div id="modalText" class="modalText"></div>
      </div>
      <button id="btnModalOk" class="btn primary">Awesome</button>
    </div>
  </div>

  <script src="app_v1.js"></script>
</body>
</html>
